{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { HOST } from \"../env\";\nvar initialState = {\n  importantQuestion: {\n    data: [],\n    index: 0,\n    style: [],\n    history: [],\n    currentIndex: -1,\n    loading: false,\n    error: '',\n    visiable: false\n  },\n  ruleQuestion: {\n    data: [],\n    index: 0,\n    style: [],\n    history: [],\n    currentIndex: -1,\n    loading: false,\n    error: '',\n    visiable: false\n  },\n  typeQuestion: \"\"\n};\nexport var fetchA1QuestionData = createAsyncThunk('question/fetchA1QuestionData', _asyncToGenerator(function* () {\n  var response = yield axios.get(`${HOST}/Question/get/type/A1`);\n  return response.data;\n}));\nexport var fetchB1QuestionData = createAsyncThunk('question/fetchB1QuestionData', _asyncToGenerator(function* () {\n  var response = yield axios.get(`${HOST}/Question/get/type/B1`);\n  return response.data;\n}));\nvar handleAsyncThunk = function handleAsyncThunk(builder, asyncThunk, stateKeys) {\n  builder.addCase(asyncThunk.pending, function (state) {\n    state.status = 'loading';\n    stateKeys.forEach(function (key) {\n      state[key].loading = true;\n    });\n  }).addCase(asyncThunk.fulfilled, function (state, action) {\n    state.status = 'succeeded';\n    stateKeys.forEach(function (key) {\n      state[key].loading = false;\n      state[key].data = action.payload;\n    });\n  }).addCase(asyncThunk.rejected, function (state, action) {\n    state.status = 'failed';\n    stateKeys.forEach(function (key) {\n      state[key].loading = false;\n      state[key].error = action.error.message;\n    });\n  });\n};\nvar Slice = createSlice({\n  name: 'question',\n  initialState: initialState,\n  reducers: {\n    setIndex: function setIndex(state, action) {\n      var _action$payload = action.payload,\n        target = _action$payload.target,\n        value = _action$payload.value;\n      state[target].index = value;\n      state[target].currentIndex = value - 1;\n    },\n    setStyles: function setStyles(state, action) {\n      var _action$payload2 = action.payload,\n        target = _action$payload2.target,\n        value = _action$payload2.value;\n      state[target].style = value;\n      var currentData = {\n        index: state[target].index,\n        style: _toConsumableArray(state[target].style)\n      };\n      var isDataCurrentExist = state[target].history.some(function (data) {\n        return data.hasOwnProperty('index') && data.index === currentData.index;\n      });\n      if (!isDataCurrentExist) {\n        state[target].history.push(currentData);\n      } else {\n        history[target].forEach(function (h, hindex) {\n          if (h.index === currentData.index) {\n            h.style = currentData.style;\n          }\n        });\n      }\n    },\n    resetState: function resetState(state, action) {\n      var target = action.payload.target;\n      target.forEach(function (key) {\n        state[key].index = 0, state[key].currentIndex = -1, state[key].history = [], state[key].style = [], state[key].redoHistory = [];\n      });\n    },\n    saveQuestion: function saveQuestion(state, action) {\n      var target = action.payload.target;\n      var currentData = {\n        index: state[target].index,\n        style: _toConsumableArray(state[target].style)\n      };\n      var isDataCurrentExist = state[target].history.some(function (data) {\n        return data.hasOwnProperty('index') && data.index === currentData.index;\n      });\n      if (!isDataCurrentExist) {\n        state[target].history.push(currentData);\n      } else {\n        state[target].history[currentData.index] = currentData;\n      }\n      state[target].visiable = false;\n    },\n    setTypeQuestion: function setTypeQuestion(state, action) {\n      var target = action.payload.target;\n      state.typeQuestion = target;\n    },\n    setVisiable: function setVisiable(state, action) {\n      var target = action.payload.target;\n      if (state[target].visiable) state[target].visiable = false;else state[target].visiable = true;\n    },\n    moveToNextQuestion: function moveToNextQuestion(state, action) {\n      var _action$payload3 = action.payload,\n        target = _action$payload3.target,\n        value = _action$payload3.value;\n      if (state[target].index === value.length - 1) return;else {\n        var currentData = {\n          index: state[target].index,\n          style: _toConsumableArray(state[target].style)\n        };\n        var nextData = null;\n        for (var data of state[target].history) {\n          if (currentData && data && data.index === currentData.index + 1) {\n            nextData = data;\n            break;\n          }\n        }\n        var isDataCurrentExist = state[target].history.some(function (data) {\n          return data.hasOwnProperty('index') && data.index === currentData.index;\n        });\n        var isDataNextExist = state[target].history.some(function (data) {\n          return nextData !== null && data.index === nextData.index;\n        });\n        if (!isDataCurrentExist) {\n          state[target].history.push(currentData);\n          if (!isDataNextExist) {\n            state[target].index += 1;\n            state[target].style = [];\n            state[target].currentIndex += 1;\n          } else {\n            state[target].index = nextData.index;\n            state[target].style = _toConsumableArray(nextData.style);\n            state[target].currentIndex += 1;\n          }\n        } else {\n          state[target].style = _toConsumableArray(currentData.style);\n          for (var _data of state[target].history) {\n            if (currentData && _data && _data.index === currentData.index) {\n              _data.style = _toConsumableArray(currentData.style);\n              break;\n            }\n          }\n          if (!isDataNextExist) {\n            state[target].index += 1;\n            state[target].style = [];\n            state[target].currentIndex += 1;\n          } else {\n            state[target].index = nextData.index;\n            state[target].style = _toConsumableArray(nextData.style);\n            state[target].currentIndex += 1;\n          }\n        }\n      }\n    },\n    moveToPreviousQuestion: function moveToPreviousQuestion(state, action) {\n      var target = action.payload.target;\n      if (state[target].currentIndex >= 0) {\n        var currentData = {\n          index: state[target].index,\n          style: _toConsumableArray(state[target].style)\n        };\n        var isDataCurrentExist = state[target].history.some(function (data) {\n          return data.hasOwnProperty('index') && data.index === currentData.index;\n        });\n        var previousData = null;\n        for (var data of state[target].history) {\n          if (currentData && data && data.index === currentData.index - 1) {\n            previousData = data;\n            break;\n          }\n        }\n        var isDataPreExist = state[target].history.some(function (data) {\n          return previousData !== null && data.index === previousData.index;\n        });\n        if (!isDataCurrentExist) {\n          state[target].history.push(currentData);\n          if (!isDataPreExist) {\n            state[target].index -= 1;\n            state[target].style = [];\n            state[target].currentIndex -= 1;\n          } else {\n            state[target].index = previousData.index;\n            state[target].style = _toConsumableArray(previousData.style);\n            state[target].currentIndex -= 1;\n          }\n        } else {\n          state[target].style = _toConsumableArray(currentData.style);\n          for (var _data2 of state[target].history) {\n            if (currentData && _data2 && _data2.index === currentData.index) {\n              _data2.style = _toConsumableArray(currentData.style);\n              break;\n            }\n          }\n          if (!isDataPreExist) {\n            state[target].index -= 1;\n            state[target].style = [];\n            state[target].currentIndex -= 1;\n          } else {\n            state[target].index = previousData.index;\n            state[target].style = _toConsumableArray(previousData.style);\n            state[target].currentIndex -= 1;\n          }\n        }\n      }\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    handleAsyncThunk(builder, fetchA1QuestionData, [\"importantQuestion\", \"ruleQuestion\"]);\n    handleAsyncThunk(builder, fetchB1QuestionData, [\"importantQuestion\", \"ruleQuestion\"]);\n  }\n});\nvar _Slice$actions = Slice.actions,\n  setIndex = _Slice$actions.setIndex,\n  setStyles = _Slice$actions.setStyles,\n  moveToNextQuestion = _Slice$actions.moveToNextQuestion,\n  moveToPreviousQuestion = _Slice$actions.moveToPreviousQuestion,\n  resetState = _Slice$actions.resetState,\n  saveQuestion = _Slice$actions.saveQuestion,\n  setTypeQuestion = _Slice$actions.setTypeQuestion,\n  setVisiable = _Slice$actions.setVisiable;\nexport { setIndex, setStyles, moveToNextQuestion, moveToPreviousQuestion, resetState, saveQuestion, setTypeQuestion, setVisiable };\nexport default Slice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","HOST","initialState","importantQuestion","data","index","style","history","currentIndex","loading","error","visiable","ruleQuestion","typeQuestion","fetchA1QuestionData","_asyncToGenerator","response","get","fetchB1QuestionData","handleAsyncThunk","builder","asyncThunk","stateKeys","addCase","pending","state","status","forEach","key","fulfilled","action","payload","rejected","message","Slice","name","reducers","setIndex","_action$payload","target","value","setStyles","_action$payload2","currentData","_toConsumableArray","isDataCurrentExist","some","hasOwnProperty","push","h","hindex","resetState","redoHistory","saveQuestion","setTypeQuestion","setVisiable","moveToNextQuestion","_action$payload3","length","nextData","isDataNextExist","moveToPreviousQuestion","previousData","isDataPreExist","extraReducers","_Slice$actions","actions","reducer"],"sources":["C:/ReactNative/DriverLicense/DriverLicenseApp/redux/QuestionsReducer.js"],"sourcesContent":["\r\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { HOST } from '../env';\r\n\r\n\r\nconst initialState = {\r\n    importantQuestion: { data: [], index: 0, style: [], history: [], currentIndex: -1, loading: false, error: '', visiable: false },\r\n    ruleQuestion: { data: [], index: 0, style: [], history: [], currentIndex: -1, loading: false, error: '', visiable: false },\r\n    typeQuestion: \"\",\r\n}\r\nexport const fetchA1QuestionData = createAsyncThunk('question/fetchA1QuestionData', async () => {\r\n    const response = await axios.get(`${HOST}/Question/get/type/A1`);\r\n    return response.data;\r\n});\r\n\r\nexport const fetchB1QuestionData = createAsyncThunk('question/fetchB1QuestionData', async () => {\r\n    const response = await axios.get(`${HOST}/Question/get/type/B1`);\r\n    return response.data;\r\n});\r\n\r\nconst handleAsyncThunk = (builder, asyncThunk, stateKeys) => {\r\n    builder\r\n        .addCase(asyncThunk.pending, state => {\r\n            state.status = 'loading';\r\n            stateKeys.forEach(key => {\r\n                state[key].loading = true;\r\n            });\r\n        })\r\n        .addCase(asyncThunk.fulfilled, (state, action) => {\r\n            state.status = 'succeeded';\r\n            stateKeys.forEach(key => {\r\n                state[key].loading = false;\r\n                state[key].data = action.payload;\r\n            });\r\n        })\r\n        .addCase(asyncThunk.rejected, (state, action) => {\r\n            state.status = 'failed';\r\n            stateKeys.forEach(key => {\r\n                state[key].loading = false;\r\n                state[key].error = action.error.message;\r\n            });\r\n        });\r\n};\r\n\r\nconst Slice = createSlice({\r\n    name: 'question',\r\n    initialState,\r\n    reducers: {\r\n        setIndex: (state, action) => {\r\n            const { target, value } = action.payload;\r\n            state[target].index = value;\r\n            state[target].currentIndex = value - 1;\r\n        },\r\n        setStyles: (state, action) => {\r\n            const { target, value } = action.payload;\r\n            state[target].style = value;\r\n            const currentData = {\r\n                index: state[target].index,\r\n                style: [...state[target].style],\r\n            };\r\n            const isDataCurrentExist = state[target].history.some(data =>\r\n                data.hasOwnProperty('index') && data.index === currentData.index\r\n            );\r\n            if (!isDataCurrentExist) {\r\n                state[target].history.push(currentData);\r\n            } else {\r\n                history[target].forEach((h, hindex) => {\r\n                    if (h.index === currentData.index) {\r\n                        h.style = currentData.style;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        resetState: (state, action) => {\r\n            const { target } = action.payload;\r\n            target.forEach(key => {\r\n                state[key].index = 0,\r\n                    state[key].currentIndex = -1,\r\n                    state[key].history = [],\r\n                    state[key].style = [],\r\n                    state[key].redoHistory = []\r\n            });\r\n\r\n        },\r\n        saveQuestion: (state, action) => {\r\n            const { target } = action.payload;\r\n            const currentData = {\r\n                index: state[target].index,\r\n                style: [...state[target].style],\r\n            };\r\n            const isDataCurrentExist = state[target].history.some(data =>\r\n                data.hasOwnProperty('index') && data.index === currentData.index\r\n            );\r\n            if (!isDataCurrentExist) {\r\n                state[target].history.push(currentData);\r\n            } else {\r\n                state[target].history[currentData.index] = currentData;\r\n            }\r\n            state[target].visiable = false;\r\n        },\r\n        setTypeQuestion: (state, action) => {\r\n            const { target } = action.payload;\r\n            state.typeQuestion = target\r\n        },\r\n        setVisiable: (state, action) => {\r\n            const { target } = action.payload;\r\n            if (state[target].visiable) state[target].visiable = false\r\n            else state[target].visiable = true\r\n        },\r\n        moveToNextQuestion: (state, action) => {\r\n            const { target, value } = action.payload;\r\n            if (state[target].index === value.length - 1) return\r\n            else {\r\n                const currentData = {\r\n                    index: state[target].index,\r\n                    style: [...state[target].style],\r\n                };\r\n                let nextData = null;\r\n                for (let data of state[target].history) {\r\n                    if (currentData && data && data.index === currentData.index + 1) {\r\n                        nextData = data;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                const isDataCurrentExist = state[target].history.some(data =>\r\n                    data.hasOwnProperty('index') && data.index === currentData.index\r\n                );\r\n                const isDataNextExist = state[target].history.some(data =>\r\n                    nextData !== null && data.index === nextData.index\r\n                );\r\n                // console.log(currentData, isDataCurrentExist, nextData, isDataNextExist)\r\n                // Kiểm tra mảng hiện tại\r\n                if (!isDataCurrentExist) {\r\n                    state[target].history.push(currentData);\r\n                    if (!isDataNextExist) {\r\n                        state[target].index += 1;\r\n                        state[target].style = [];\r\n                        state[target].currentIndex += 1;\r\n\r\n                    } else {\r\n                        state[target].index = nextData.index;\r\n                        state[target].style = [...nextData.style];\r\n                        state[target].currentIndex += 1;\r\n\r\n                    }\r\n\r\n                } else {\r\n                    // Cập nhật style hiện tại, nhưng không thêm mới dữ liệu vào lịch sử\r\n                    state[target].style = [...currentData.style];\r\n                    for (let data of state[target].history) {\r\n                        if (currentData && data && data.index === currentData.index) {\r\n                            data.style = [...currentData.style];\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!isDataNextExist) {\r\n                        state[target].index += 1;\r\n                        state[target].style = [];\r\n                        state[target].currentIndex += 1;\r\n                    } else {\r\n                        state[target].index = nextData.index;\r\n                        state[target].style = [...nextData.style];\r\n                        state[target].currentIndex += 1;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        moveToPreviousQuestion: (state, action) => {\r\n            const { target } = action.payload;\r\n            if (state[target].currentIndex >= 0) {\r\n                // Kiểm tra xem dữ liệu hiện tại đã tồn tại trong lịch sử chưa\r\n                const currentData = {\r\n                    index: state[target].index,\r\n                    style: [...state[target].style]\r\n                };\r\n                const isDataCurrentExist = state[target].history.some(data =>\r\n                    data.hasOwnProperty('index') && data.index === currentData.index\r\n                );\r\n                let previousData = null;\r\n                for (let data of state[target].history) {\r\n                    if (currentData && data && data.index === currentData.index - 1) {\r\n                        previousData = data;\r\n                        break;\r\n                    }\r\n                }\r\n                const isDataPreExist = state[target].history.some(data =>\r\n                    previousData !== null && data.index === previousData.index\r\n                );\r\n                // Nếu dữ liệu chưa tồn tại trong lịch sử, push vào history\r\n                if (!isDataCurrentExist) {\r\n                    state[target].history.push(currentData);\r\n                    if (!isDataPreExist) {\r\n                        state[target].index -= 1;\r\n                        state[target].style = [];\r\n                        state[target].currentIndex -= 1;\r\n\r\n                    } else {\r\n                        state[target].index = previousData.index;\r\n                        state[target].style = [...previousData.style];\r\n                        state[target].currentIndex -= 1;\r\n                    }\r\n\r\n                } else {\r\n                    // Cập nhật style hiện tại, nhưng không thêm mới dữ liệu vào lịch sử\r\n                    state[target].style = [...currentData.style];\r\n                    for (let data of state[target].history) {\r\n                        if (currentData && data && data.index === currentData.index) {\r\n                            data.style = [...currentData.style];\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!isDataPreExist) {\r\n                        state[target].index -= 1;\r\n                        state[target].style = [];\r\n                        state[target].currentIndex -= 1;\r\n\r\n                    } else {\r\n                        state[target].index = previousData.index;\r\n                        state[target].style = [...previousData.style];\r\n                        state[target].currentIndex -= 1;\r\n                    }\r\n                }\r\n\r\n            }\r\n        },\r\n    },\r\n    extraReducers: builder => {\r\n        handleAsyncThunk(builder, fetchA1QuestionData, [\"importantQuestion\", \"ruleQuestion\"]);\r\n        handleAsyncThunk(builder, fetchB1QuestionData, [\"importantQuestion\", \"ruleQuestion\"]);\r\n    }\r\n});\r\n\r\n\r\nexport const { setIndex, setStyles, moveToNextQuestion, moveToPreviousQuestion, resetState, saveQuestion, setTypeQuestion, setVisiable } = Slice.actions;\r\n\r\nexport default Slice.reducer;\r\n"],"mappings":";;AACA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI;AAGb,IAAMC,YAAY,GAAG;EACjBC,iBAAiB,EAAE;IAAEC,IAAI,EAAE,EAAE;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,EAAE;IAAEC,OAAO,EAAE,EAAE;IAAEC,YAAY,EAAE,CAAC,CAAC;IAAEC,OAAO,EAAE,KAAK;IAAEC,KAAK,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM,CAAC;EAC/HC,YAAY,EAAE;IAAER,IAAI,EAAE,EAAE;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,EAAE;IAAEC,OAAO,EAAE,EAAE;IAAEC,YAAY,EAAE,CAAC,CAAC;IAAEC,OAAO,EAAE,KAAK;IAAEC,KAAK,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM,CAAC;EAC1HE,YAAY,EAAE;AAClB,CAAC;AACD,OAAO,IAAMC,mBAAmB,GAAGhB,gBAAgB,CAAC,8BAA8B,EAAAiB,iBAAA,CAAE,aAAY;EAC5F,IAAMC,QAAQ,SAAShB,KAAK,CAACiB,GAAG,CAAE,GAAEhB,IAAK,uBAAsB,CAAC;EAChE,OAAOe,QAAQ,CAACZ,IAAI;AACxB,CAAC,EAAC;AAEF,OAAO,IAAMc,mBAAmB,GAAGpB,gBAAgB,CAAC,8BAA8B,EAAAiB,iBAAA,CAAE,aAAY;EAC5F,IAAMC,QAAQ,SAAShB,KAAK,CAACiB,GAAG,CAAE,GAAEhB,IAAK,uBAAsB,CAAC;EAChE,OAAOe,QAAQ,CAACZ,IAAI;AACxB,CAAC,EAAC;AAEF,IAAMe,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,OAAO,EAAEC,UAAU,EAAEC,SAAS,EAAK;EACzDF,OAAO,CACFG,OAAO,CAACF,UAAU,CAACG,OAAO,EAAE,UAAAC,KAAK,EAAI;IAClCA,KAAK,CAACC,MAAM,GAAG,SAAS;IACxBJ,SAAS,CAACK,OAAO,CAAC,UAAAC,GAAG,EAAI;MACrBH,KAAK,CAACG,GAAG,CAAC,CAACnB,OAAO,GAAG,IAAI;IAC7B,CAAC,CAAC;EACN,CAAC,CAAC,CACDc,OAAO,CAACF,UAAU,CAACQ,SAAS,EAAE,UAACJ,KAAK,EAAEK,MAAM,EAAK;IAC9CL,KAAK,CAACC,MAAM,GAAG,WAAW;IAC1BJ,SAAS,CAACK,OAAO,CAAC,UAAAC,GAAG,EAAI;MACrBH,KAAK,CAACG,GAAG,CAAC,CAACnB,OAAO,GAAG,KAAK;MAC1BgB,KAAK,CAACG,GAAG,CAAC,CAACxB,IAAI,GAAG0B,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC;EACN,CAAC,CAAC,CACDR,OAAO,CAACF,UAAU,CAACW,QAAQ,EAAE,UAACP,KAAK,EAAEK,MAAM,EAAK;IAC7CL,KAAK,CAACC,MAAM,GAAG,QAAQ;IACvBJ,SAAS,CAACK,OAAO,CAAC,UAAAC,GAAG,EAAI;MACrBH,KAAK,CAACG,GAAG,CAAC,CAACnB,OAAO,GAAG,KAAK;MAC1BgB,KAAK,CAACG,GAAG,CAAC,CAAClB,KAAK,GAAGoB,MAAM,CAACpB,KAAK,CAACuB,OAAO;IAC3C,CAAC,CAAC;EACN,CAAC,CAAC;AACV,CAAC;AAED,IAAMC,KAAK,GAAGnC,WAAW,CAAC;EACtBoC,IAAI,EAAE,UAAU;EAChBjC,YAAY,EAAZA,YAAY;EACZkC,QAAQ,EAAE;IACNC,QAAQ,EAAE,SAAAA,SAACZ,KAAK,EAAEK,MAAM,EAAK;MACzB,IAAAQ,eAAA,GAA0BR,MAAM,CAACC,OAAO;QAAhCQ,MAAM,GAAAD,eAAA,CAANC,MAAM;QAAEC,KAAK,GAAAF,eAAA,CAALE,KAAK;MACrBf,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,GAAGmC,KAAK;MAC3Bf,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,GAAGgC,KAAK,GAAG,CAAC;IAC1C,CAAC;IACDC,SAAS,EAAE,SAAAA,UAAChB,KAAK,EAAEK,MAAM,EAAK;MAC1B,IAAAY,gBAAA,GAA0BZ,MAAM,CAACC,OAAO;QAAhCQ,MAAM,GAAAG,gBAAA,CAANH,MAAM;QAAEC,KAAK,GAAAE,gBAAA,CAALF,KAAK;MACrBf,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAGkC,KAAK;MAC3B,IAAMG,WAAW,GAAG;QAChBtC,KAAK,EAAEoB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK;QAC1BC,KAAK,EAAAsC,kBAAA,CAAMnB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK;MAClC,CAAC;MACD,IAAMuC,kBAAkB,GAAGpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACuC,IAAI,CAAC,UAAA1C,IAAI;QAAA,OACtDA,IAAI,CAAC2C,cAAc,CAAC,OAAO,CAAC,IAAI3C,IAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK;MAAA,CACpE,CAAC;MACD,IAAI,CAACwC,kBAAkB,EAAE;QACrBpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACyC,IAAI,CAACL,WAAW,CAAC;MAC3C,CAAC,MAAM;QACHpC,OAAO,CAACgC,MAAM,CAAC,CAACZ,OAAO,CAAC,UAACsB,CAAC,EAAEC,MAAM,EAAK;UACnC,IAAID,CAAC,CAAC5C,KAAK,KAAKsC,WAAW,CAACtC,KAAK,EAAE;YAC/B4C,CAAC,CAAC3C,KAAK,GAAGqC,WAAW,CAACrC,KAAK;UAC/B;QACJ,CAAC,CAAC;MACN;IACJ,CAAC;IACD6C,UAAU,EAAE,SAAAA,WAAC1B,KAAK,EAAEK,MAAM,EAAK;MAC3B,IAAQS,MAAM,GAAKT,MAAM,CAACC,OAAO,CAAzBQ,MAAM;MACdA,MAAM,CAACZ,OAAO,CAAC,UAAAC,GAAG,EAAI;QAClBH,KAAK,CAACG,GAAG,CAAC,CAACvB,KAAK,GAAG,CAAC,EAChBoB,KAAK,CAACG,GAAG,CAAC,CAACpB,YAAY,GAAG,CAAC,CAAC,EAC5BiB,KAAK,CAACG,GAAG,CAAC,CAACrB,OAAO,GAAG,EAAE,EACvBkB,KAAK,CAACG,GAAG,CAAC,CAACtB,KAAK,GAAG,EAAE,EACrBmB,KAAK,CAACG,GAAG,CAAC,CAACwB,WAAW,GAAG,EAAE;MACnC,CAAC,CAAC;IAEN,CAAC;IACDC,YAAY,EAAE,SAAAA,aAAC5B,KAAK,EAAEK,MAAM,EAAK;MAC7B,IAAQS,MAAM,GAAKT,MAAM,CAACC,OAAO,CAAzBQ,MAAM;MACd,IAAMI,WAAW,GAAG;QAChBtC,KAAK,EAAEoB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK;QAC1BC,KAAK,EAAAsC,kBAAA,CAAMnB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK;MAClC,CAAC;MACD,IAAMuC,kBAAkB,GAAGpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACuC,IAAI,CAAC,UAAA1C,IAAI;QAAA,OACtDA,IAAI,CAAC2C,cAAc,CAAC,OAAO,CAAC,IAAI3C,IAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK;MAAA,CACpE,CAAC;MACD,IAAI,CAACwC,kBAAkB,EAAE;QACrBpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACyC,IAAI,CAACL,WAAW,CAAC;MAC3C,CAAC,MAAM;QACHlB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACoC,WAAW,CAACtC,KAAK,CAAC,GAAGsC,WAAW;MAC1D;MACAlB,KAAK,CAACc,MAAM,CAAC,CAAC5B,QAAQ,GAAG,KAAK;IAClC,CAAC;IACD2C,eAAe,EAAE,SAAAA,gBAAC7B,KAAK,EAAEK,MAAM,EAAK;MAChC,IAAQS,MAAM,GAAKT,MAAM,CAACC,OAAO,CAAzBQ,MAAM;MACdd,KAAK,CAACZ,YAAY,GAAG0B,MAAM;IAC/B,CAAC;IACDgB,WAAW,EAAE,SAAAA,YAAC9B,KAAK,EAAEK,MAAM,EAAK;MAC5B,IAAQS,MAAM,GAAKT,MAAM,CAACC,OAAO,CAAzBQ,MAAM;MACd,IAAId,KAAK,CAACc,MAAM,CAAC,CAAC5B,QAAQ,EAAEc,KAAK,CAACc,MAAM,CAAC,CAAC5B,QAAQ,GAAG,KAAK,MACrDc,KAAK,CAACc,MAAM,CAAC,CAAC5B,QAAQ,GAAG,IAAI;IACtC,CAAC;IACD6C,kBAAkB,EAAE,SAAAA,mBAAC/B,KAAK,EAAEK,MAAM,EAAK;MACnC,IAAA2B,gBAAA,GAA0B3B,MAAM,CAACC,OAAO;QAAhCQ,MAAM,GAAAkB,gBAAA,CAANlB,MAAM;QAAEC,KAAK,GAAAiB,gBAAA,CAALjB,KAAK;MACrB,IAAIf,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,KAAKmC,KAAK,CAACkB,MAAM,GAAG,CAAC,EAAE,OAAM,KAC/C;QACD,IAAMf,WAAW,GAAG;UAChBtC,KAAK,EAAEoB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK;UAC1BC,KAAK,EAAAsC,kBAAA,CAAMnB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK;QAClC,CAAC;QACD,IAAIqD,QAAQ,GAAG,IAAI;QACnB,KAAK,IAAIvD,IAAI,IAAIqB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,EAAE;UACpC,IAAIoC,WAAW,IAAIvC,IAAI,IAAIA,IAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK,GAAG,CAAC,EAAE;YAC7DsD,QAAQ,GAAGvD,IAAI;YACf;UACJ;QACJ;QAEA,IAAMyC,kBAAkB,GAAGpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACuC,IAAI,CAAC,UAAA1C,IAAI;UAAA,OACtDA,IAAI,CAAC2C,cAAc,CAAC,OAAO,CAAC,IAAI3C,IAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK;QAAA,CACpE,CAAC;QACD,IAAMuD,eAAe,GAAGnC,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACuC,IAAI,CAAC,UAAA1C,IAAI;UAAA,OACnDuD,QAAQ,KAAK,IAAI,IAAIvD,IAAI,CAACC,KAAK,KAAKsD,QAAQ,CAACtD,KAAK;QAAA,CACtD,CAAC;QAGD,IAAI,CAACwC,kBAAkB,EAAE;UACrBpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACyC,IAAI,CAACL,WAAW,CAAC;UACvC,IAAI,CAACiB,eAAe,EAAE;YAClBnC,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,IAAI,CAAC;YACxBoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAG,EAAE;YACxBmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UAEnC,CAAC,MAAM;YACHiB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,GAAGsD,QAAQ,CAACtD,KAAK;YACpCoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAAsC,kBAAA,CAAOe,QAAQ,CAACrD,KAAK,CAAC;YACzCmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UAEnC;QAEJ,CAAC,MAAM;UAEHiB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAAsC,kBAAA,CAAOD,WAAW,CAACrC,KAAK,CAAC;UAC5C,KAAK,IAAIF,KAAI,IAAIqB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,EAAE;YACpC,IAAIoC,WAAW,IAAIvC,KAAI,IAAIA,KAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK,EAAE;cACzDD,KAAI,CAACE,KAAK,GAAAsC,kBAAA,CAAOD,WAAW,CAACrC,KAAK,CAAC;cACnC;YACJ;UACJ;UACA,IAAI,CAACsD,eAAe,EAAE;YAClBnC,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,IAAI,CAAC;YACxBoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAG,EAAE;YACxBmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UACnC,CAAC,MAAM;YACHiB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,GAAGsD,QAAQ,CAACtD,KAAK;YACpCoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAAsC,kBAAA,CAAOe,QAAQ,CAACrD,KAAK,CAAC;YACzCmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UACnC;QACJ;MACJ;IACJ,CAAC;IACDqD,sBAAsB,EAAE,SAAAA,uBAACpC,KAAK,EAAEK,MAAM,EAAK;MACvC,IAAQS,MAAM,GAAKT,MAAM,CAACC,OAAO,CAAzBQ,MAAM;MACd,IAAId,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC,EAAE;QAEjC,IAAMmC,WAAW,GAAG;UAChBtC,KAAK,EAAEoB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK;UAC1BC,KAAK,EAAAsC,kBAAA,CAAMnB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK;QAClC,CAAC;QACD,IAAMuC,kBAAkB,GAAGpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACuC,IAAI,CAAC,UAAA1C,IAAI;UAAA,OACtDA,IAAI,CAAC2C,cAAc,CAAC,OAAO,CAAC,IAAI3C,IAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK;QAAA,CACpE,CAAC;QACD,IAAIyD,YAAY,GAAG,IAAI;QACvB,KAAK,IAAI1D,IAAI,IAAIqB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,EAAE;UACpC,IAAIoC,WAAW,IAAIvC,IAAI,IAAIA,IAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK,GAAG,CAAC,EAAE;YAC7DyD,YAAY,GAAG1D,IAAI;YACnB;UACJ;QACJ;QACA,IAAM2D,cAAc,GAAGtC,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACuC,IAAI,CAAC,UAAA1C,IAAI;UAAA,OAClD0D,YAAY,KAAK,IAAI,IAAI1D,IAAI,CAACC,KAAK,KAAKyD,YAAY,CAACzD,KAAK;QAAA,CAC9D,CAAC;QAED,IAAI,CAACwC,kBAAkB,EAAE;UACrBpB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,CAACyC,IAAI,CAACL,WAAW,CAAC;UACvC,IAAI,CAACoB,cAAc,EAAE;YACjBtC,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,IAAI,CAAC;YACxBoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAG,EAAE;YACxBmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UAEnC,CAAC,MAAM;YACHiB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,GAAGyD,YAAY,CAACzD,KAAK;YACxCoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAAsC,kBAAA,CAAOkB,YAAY,CAACxD,KAAK,CAAC;YAC7CmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UACnC;QAEJ,CAAC,MAAM;UAEHiB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAAsC,kBAAA,CAAOD,WAAW,CAACrC,KAAK,CAAC;UAC5C,KAAK,IAAIF,MAAI,IAAIqB,KAAK,CAACc,MAAM,CAAC,CAAChC,OAAO,EAAE;YACpC,IAAIoC,WAAW,IAAIvC,MAAI,IAAIA,MAAI,CAACC,KAAK,KAAKsC,WAAW,CAACtC,KAAK,EAAE;cACzDD,MAAI,CAACE,KAAK,GAAAsC,kBAAA,CAAOD,WAAW,CAACrC,KAAK,CAAC;cACnC;YACJ;UACJ;UACA,IAAI,CAACyD,cAAc,EAAE;YACjBtC,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,IAAI,CAAC;YACxBoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAG,EAAE;YACxBmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UAEnC,CAAC,MAAM;YACHiB,KAAK,CAACc,MAAM,CAAC,CAAClC,KAAK,GAAGyD,YAAY,CAACzD,KAAK;YACxCoB,KAAK,CAACc,MAAM,CAAC,CAACjC,KAAK,GAAAsC,kBAAA,CAAOkB,YAAY,CAACxD,KAAK,CAAC;YAC7CmB,KAAK,CAACc,MAAM,CAAC,CAAC/B,YAAY,IAAI,CAAC;UACnC;QACJ;MAEJ;IACJ;EACJ,CAAC;EACDwD,aAAa,EAAE,SAAAA,cAAA5C,OAAO,EAAI;IACtBD,gBAAgB,CAACC,OAAO,EAAEN,mBAAmB,EAAE,CAAC,mBAAmB,EAAE,cAAc,CAAC,CAAC;IACrFK,gBAAgB,CAACC,OAAO,EAAEF,mBAAmB,EAAE,CAAC,mBAAmB,EAAE,cAAc,CAAC,CAAC;EACzF;AACJ,CAAC,CAAC;AAGK,IAAA+C,cAAA,GAAoI/B,KAAK,CAACgC,OAAO;EAAzI7B,QAAQ,GAAA4B,cAAA,CAAR5B,QAAQ;EAAEI,SAAS,GAAAwB,cAAA,CAATxB,SAAS;EAAEe,kBAAkB,GAAAS,cAAA,CAAlBT,kBAAkB;EAAEK,sBAAsB,GAAAI,cAAA,CAAtBJ,sBAAsB;EAAEV,UAAU,GAAAc,cAAA,CAAVd,UAAU;EAAEE,YAAY,GAAAY,cAAA,CAAZZ,YAAY;EAAEC,eAAe,GAAAW,cAAA,CAAfX,eAAe;EAAEC,WAAW,GAAAU,cAAA,CAAXV,WAAW;AAAmB,SAAAlB,QAAA,EAAAI,SAAA,EAAAe,kBAAA,EAAAK,sBAAA,EAAAV,UAAA,EAAAE,YAAA,EAAAC,eAAA,EAAAC,WAAA;AAEzJ,eAAerB,KAAK,CAACiC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}